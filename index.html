<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Â¡Atrapa la Gaseosa Arcade! - Mega Update 6.0</title>
<style>
  body { text-align:center; font-family:sans-serif; background:#222; color:#fff; overflow:hidden; height:100vh; margin:0; }
  h1 { color:#ffdd00; margin-top:10px; }
  #puntaje, #mensaje { font-size:20px; margin:10px; }
  #adminPanel { margin-top:20px; border:1px solid #fff; padding:10px; display:inline-block; }
  button { margin:5px; padding:10px; font-size:16px; cursor:pointer; }
  .moneda { font-size:40px; position:absolute; top:0; transition: transform 0.5s linear; }
</style>
</head>
<body>

<h1>Â¡Atrapa la Gaseosa Arcade! ðŸ¥¤</h1>
<p id="puntaje">Pesos: 0 | Vidas: 5</p>
<p id="mensaje">Presiona L, C o R para atrapar la moneda</p>

<div id="adminPanel">
  <h3>Admin Panel</h3>
  <button onclick="comandoParty()">Party (Caen monedas)</button>
  <button onclick="comandoClear()">Clear (Limpiar monedas)</button>
  <button onclick="comandoRainDiamonds()">Rain Diamonds ðŸ’Ž</button>
  <button onclick="reiniciar()">Reiniciar Juego</button>
</div>

<script>
// Variables principales
let pesos = 0;
let vidas = 5;
const opciones = ['L','C','R'];
const mensajeEl = document.getElementById('mensaje');
const puntajeEl = document.getElementById('puntaje');

// FunciÃ³n para mostrar mensajes
function mostrarMensaje(texto) {
  mensajeEl.innerText = texto;
}

// Generar nueva moneda con animaciÃ³n de caÃ­da
function crearMoneda(pos) {
  const moneda = document.createElement('div');
  moneda.className = 'moneda';
  moneda.innerText = 'ðŸ’°';
  
  // PosiciÃ³n horizontal segÃºn L, C, R
  let left;
  if(pos==='L') left = '20%';
  else if(pos==='C') left = '50%';
  else left = '80%';
  
  moneda.style.left = left;
  document.body.appendChild(moneda);

  // AnimaciÃ³n de caÃ­da
  setTimeout(()=> { moneda.style.top = '80%'; }, 50);

  // Detectar click/touch en moneda
  moneda.addEventListener('click', ()=> {
    pesos++;
    mostrarMensaje(`Â¡Atrapaste la moneda!`);
    new Audio('https://www.soundjay.com/button/beep-07.wav').play();
    moneda.remove();
    actualizarPuntaje();
  });

  // Remover moneda al llegar al final
  setTimeout(()=> {
    if(document.body.contains(moneda)) {
      vidas--;
      mostrarMensaje(`Fallaste una moneda`);
      moneda.remove();
      actualizarPuntaje();
      if(vidas <= 0) {
        alert('Perdiste todas tus vidas ðŸ˜¢');
        reiniciar();
      }
    }
  }, 3000);
}

// FunciÃ³n para generar una moneda aleatoria
function nuevaMoneda() {
  const pos = opciones[Math.floor(Math.random()*3)];
  crearMoneda(pos);
}

// Actualizar puntaje en pantalla
function actualizarPuntaje() {
  puntajeEl.innerText = `Pesos: ${pesos} | Vidas: ${vidas}`;
}

// Comandos admin
function comandoParty() {
  mostrarMensaje('Â¡Party activado! Caen monedas extra ðŸŽ‰');
  for(let i=0;i<3;i++) nuevaMoneda();
}

function comandoClear() {
  mostrarMensaje('Â¡Monedas limpiadas! ðŸ§¹');
  pesos = 0;
  actualizarPuntaje();
}

function comandoRainDiamonds() {
  mostrarMensaje('Â¡Rain Diamonds activado! ðŸ’ŽðŸ’ŽðŸ’Ž');
  for(let i=0;i<5;i++) nuevaMoneda();
}

// Reiniciar juego
function reiniciar() {
  pesos = 0;
  vidas = 5;
  actualizarPuntaje();
  mostrarMensaje('Presiona L, C o R para atrapar la moneda');
}

// Detectar teclas (para atrapar monedas fijas si quieres aÃ±adir)
document.addEventListener('keydown', function(e){
  const eleccion = e.key.toUpperCase();
  if(opciones.includes(eleccion)) {
    mostrarMensaje(`Presionaste ${eleccion} (usa click en monedas para atraparlas)`);
  }
});

// GeneraciÃ³n automÃ¡tica de monedas cada 2 segundos
setInterval(nuevaMoneda, 2000);
</script>
</body>
</html>
